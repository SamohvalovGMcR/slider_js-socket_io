
<!doctype html>
<html>

<head>
 
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
   <meta name="viewport" content="width=device-width">
</head>

<body>
   <script src="/socket.io/socket.io.js"></script>
   <p id="show"></p> 

 <div id="landall" style=" position: absolute;  left:150px;" >
<span id="left">&lt;</span>
<span id="right"  style="left:95%;">&gt;</span>
 <button id="buttons"></button>
</div>

  <script >
  //var socket = io.connect();//
   var i=0;
  
  var arr=[
  //"http://n.png",
  // "http://an2.png",
  //  "http:///images/Коля.png",
   /// "http://Петя.png",
    //"http://Федя.png",
   //"http://adovaya.jpg",
   //"http://Продукты.jpg",
    //"http://1440x900-004.jpg",
	['http://192.168.1.102/st/monitorle.png',["/rle"]],
	['http://192.168.1.102/st/monitorri.png',['http://torri.ru/']],
	
	['http://192.168.1.102/st/monitor1.png',["/tor1"]],
 ];
 
  /*socket.on('sliderimg', function (value) {*/
  /* if(value)arr=value;*/ 
 /*});*/
 var im1=document.createElement('img');
 im1.id="train1"
 im1.src=arr[i][0];
 im1.onclick=()=>location.href =arr[i][1];
 landall.appendChild(im1);
 

 var im=document.createElement('img');
 im.id="train"
 im.src=arr[i+1][0];
  im.style.left=-im.width +"px";
 
 landall.appendChild(im);
 
 

 
   train1.onload = function(){  
  landall.style.width=train1.width +"px";
   landall.style.height=train1.height +"px";
  //show.innerHTML = train.width;
  
 };
  
  const leftf=(i1=i)=> {
    train.onclick=()=>location.href =arr[i1][1];
    if(train1.style.left=="0px"||train1.style.left==0){
  train.classList.add('animate');

 train.src=arr[i1][0];
  train.style.zIndex=2;
  train.classList.remove('noanimate');
  train.style.left=0;
 
  train1.classList.remove('animate');
   train1.style.zIndex=1;
  train1.classList.add('noanimate');
   train1.style.left=-train1.width +"px";
   
 }else{
  train1.style.zIndex=2;
  train1.classList.remove('noanimate');
  train1.classList.add('animate');
  // arr[i1+1] ?  i=i1+1 : i=0 ;
   train1.src=arr[i1][0];
  train1.style.left=0 +"px";
  train.style.zIndex=1;
  train.classList.add('noanimate');
  train.style.left=-train1.width +"px"; 
  }
// show.innerHTML =i; 
};

const rightf=(i1=i)=> {
   
  train.onclick=()=>location.href =arr[i1][1];
  train.classList.remove('noanimate');
  train1.classList.remove('noanimate');
 if(train1.style.left=="0px"||train1.style.left==0){
   
   train.src=arr[i1][0];
  train1.classList.add('animate');


  train1.style.zIndex=2;
  train1.style.left=-train.width-2 +"px";
  train.classList.remove('animate');
   train.style.zIndex=1;
   train.style.left=0;
 }else{
   
     train1.src=arr[i1][0];
  train.classList.add('animate');
 
  train.style.zIndex=2;
  train.style.left=-train.width-2 +"px";
  train1.classList.remove('animate');
   train1.style.zIndex=1;
   train1.style.left=0;
  
 }
 
};

left.onclick=()=>{
  //train.style.zIndex=1;
  //train.classList.remove('animate');
  //train.style.left="0px";
  
 arr[i+1] ?  i=i+1 : i=0 ;
 
  leftf(i);
};

right.onclick=()=>{
 //train1.style.zIndex=1; 
 //train1.classList.remove('animate');
 //train1.style.left="0px";
   i>0 ?  i-- : i=arr.length-1 ;
  rightf(i);
  };


for(k=0;k<arr.length;k++){

  let btn=document.createElement('button');
  btn.innerHTML =k+1;
   btn.onclick=()=>{i=btn.innerHTML-1; rightf(i);return i;};  
  
   btn.style.left=btn.style.left+k * 60 +"px";
   buttons.appendChild(btn);
};
 

var id=setInterval(()=>{

arr[i+1] ?  i++ :  i=0;
leftf(i);
//  clearInterval();
  },4000);
  
landall.onmouseenter=()=>clearInterval(id);
landall.onmouseleave=()=>id=setInterval(()=>{

arr[i+1]?  i++ :  i=0;
leftf(i);

  },4000);

  </script>
</body>

</html>

 